<!DOCTYPE html>
<html>
<head>
    <!--
    Alfredo Rodriguez, 
    September 20, 2021, 
    Svcte Mobile Apps
    -->
    <meta charset='utf-8' />
    <meta name="viewport" content="width=device-width" /> 
    <title>Resistor Color Code</title>
    <style type='text/css'>
    @import "portfolio.css";
   @import url('https://fonts.googleapis.com/css2?family=Nunito:wght@200&display=swap');
    
   div#nav img{
                width: 30px;
                padding: 15px;
                background-color:gray ;
                margin: 0 4px;
                border-radius: 10px;
            }    


   div#readout div{
        background-color: peru;
        display:inline-block;
        height: 48px;
        width: 24px;
    }
    body{
        text-align: center;
        background-color: #f2edd7ff ;
        font-family: "Nunito","Georgia",sans-serif;
        
    }
    p{
        font-size: 18px;
        
    }
    div#board {
        width: 250px;
        margin: 1em auto;
    }
    div#board button{
        background-color: black;
        color: white;
        width: 72px;
        height: 72px;
        margin: 4px;
        border: none;
        box-shadow: 1px 1px 3px black;
    }
    div#case p b {
    color: orange;
    }
    div#case p  {
    color: purple;
    }
    /* div#readout div#color1{
        background-color: sienna;
    }
    div#readout div#color2{
        background-color: sienna;
    }
    div#readout div#color3{
        background-color: sienna;
    } */


    @media screen and (max-width:750px) and (max-height: 530px){
        div#board {width: 500px;}
        h1{
            font-size: 18px;
        }
        p{
            font-size: 22px;
        }
        
    }
    @media screen and (max-width:600px) and (max-height: 530px){
        div#board{
            width: 400px;

        }
        div#board button{
            width: 54px;
            height: 54px;
        }
        h1{
            font-size: 16px;
        }
        p{
            font-size: 18px;
        }
        
    }
    @media screen and (min-width:767px){
            div#board{ width: 400px ;}
            div#board button{
                width: 100px;
                height: 100px;
            }
            h1 {
            font-size: 34px;
        }
        p{
            font-size: 32px;
        }


        }
       
    </style>
    <script src="navigation.js"></script>
</head>

<body>
    <h1>Resistor Color Code</h1>
    <div id= "readout">
        <div class="bg">&nbsp;</div><div 
        id="color1">&nbsp;</div><div 
        class="bg">&nbsp;</div><div
         id="color2">&nbsp;</div><div 
         class="bg">&nbsp;</div><div 
         id="color3">&nbsp;</div><div 
         class="bg">&nbsp;</div><div 
         class="bg">&nbsp;</div>
    </div>
    <p id="ohms">&nbsp;</p>
    <div id="board">
        <button style="background-color: black;">&nbsp;</button>
        <button style="background-color: sienna;">&nbsp;</button>
        <button style="background-color: red;">&nbsp;</button>
        <button style="background-color: orange;">&nbsp;</button>
        <button style="background-color: yellow;">&nbsp;</button>
        <button style="background-color: green;">&nbsp;</button>
        <button style="background-color: royalblue;">&nbsp;</button>
        <button style="background-color: blueviolet;">&nbsp;</button>
        <button style="background-color: gray;">&nbsp;</button>
        <button style="background-color: white;">&nbsp;</button>
        <button id="backspace">&lt;</button>
        <button id="clear">C</button>
    </div>
    <script type='text/javascript'>
    // scripts will go here
        function get(id){
            return document.getElementById(id);
        }
        var buttons = get("board").getElementsByTagName("button");
        var selectedNumbers = [ -1,-1,-1 ];
        var position = 0;
        var readoutColors = [
            "black", "sienna","red","orange","yellow","green","royalblue","blueviolet","gray","white"
        ]

        function setupClickHandelers(){
            for(var i=0; i<buttons.length;i++){
                buttons[i].onclick = buttonPressed;
                if(!buttons[i].id){
                buttons[i].id ="b"+ i;
                }
              
            }
        }
        function buttonPressed(e){
            // alert(button.indexOf((e.currentTarget.style.background-color))
            if(e.currentTarget.id == 'clear'){
                doClear();
                return;
            }
            if(e.currentTarget.id == 'backspace'){
                doBackspace();
                return;
            }
            if(position > 2){
                position = 0;
                selectedNumbers = [-1,-1,-1];
                get("ohms").innerHTML = "&nbsp;";

            }
            
            
            console.log(e.currentTarget.id);
            selectedNumbers [position] = parseInt(
            e.currentTarget.id.substr(1));
            position++;
            console.log(selectedNumbers);
            updateReadout();
            if(position>2){
                doCalculation();
            }
        
        }
        function updateColorBand(id,index){
            if(selectedNumbers[index] == -1){
               get(id).style.backgroundColor = "#D18D61";
           }
           else
            get(id).style.backgroundColor =
            readoutColors[selectedNumbers[index]];
        }
        function updateReadout(){
       updateColorBand("color1",0);
       updateColorBand("color2",1);
       updateColorBand("color3",2);
       
       
       
            //    if(selectedNumbers[0] == -1){
        //        get("color1").style.backgroundColor = "peru";
        //    }
        //    else{
        //     get("color1").style.backgroundColor =
        //     readoutColors[selectedNumbers[0]];
        //    }
        //    if(selectedNumbers[1] == -1){
        //        get("color2").style.backgroundColor = "peru";
        //    }
        //    else{
        //     get("color2").style.backgroundColor =
        //     readoutColors[selectedNumbers[1]];
        //    }
        //    if(selectedNumbers[2] == -1){
        //        get("color3").style.backgroundColor = "peru";
        //    }
        //    else{
        //     get("color3").style.backgroundColor =
        //     readoutColors[selectedNumbers[2]];
        //    }
           
           
            // get("color1").style.backgroundColor =
            // readoutColors[selectedNumbers[0]];
            // get("color2").style.backgroundColor =
            // readoutColors[selectedNumbers[1]];
            // get("color3").style.backgroundColor =
            // readoutColors[selectedNumbers[2]];
        }

        function doClear(){
            position = 0;
            selectedNumbers = [-1,-1,-1];
            get("ohms").innerHTML = "&nbsp;";
            updateReadout();



}

        function doBackspace(){
         if(position == 0){
             ;
         }
         else if (position == 1){
             doClear();
         }
         else if (position == 2){
             position--;
             selectedNumbers[1]= -1;
             updateReadout();
         }
         else if (position == 3){
            position--;
            selectedNumbers[2] = -1;
            updateReadout();
            get("ohms").innerHTML = "&nbsp;";
            
            
         }
        }
        function doCalculation(){
            var a =selectedNumbers[0];
            var b =selectedNumbers[1];
            var c =selectedNumbers[2];
            var ohms = (10*a + b) * Math.pow(10,c);
            console.log(ohms);
            get("ohms").innerHTML = kmg(ohms) + " Î©";
        }
        function kmg(n){
            if (n > 100000000){
                return (n/100000000) + "G";
            }
            else if (n>1000000){
                return (n/1000000) + "M";
            }
            else if (n>1000){
                return(n/1000) + "K";
            }
            else{
                return n;
            }
        }
        setupClickHandelers();
    </script>
    <div id="case">
        <p><b>Objective:</b>
            Create a resistor calculator that was able to calculate how much ohms a resistor could hold.
        </p>
        <p><b>Problem:</b>
            How to make an easy to use calculator
        </p>
        <p><b>Solution:</b>
            We have a 3X3 grid of all different colors, and you input any color and get an accurate Ohms.  With a backspace and delete to accommodate for mistakes or resets.
        </p>
    </div>
    <div id="nav">
        <a href=".">
            <img src="navicons/white-arrow-left.svg" alt="previous"/>
        </a>
        <a href=".">
            <img src="navicons/white-house.svg" alt="home"/>
        </a>
        <a href=".">
            <img src="navicons/white-arrow-right.svg" alt="next"/>
        </a>
    </div>
    <footer>Copyright&copy;2021 Alfredo Rodriguez</footer>
</body>
</html>